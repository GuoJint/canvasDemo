<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>钟表</title>
	</head>
	<body>
		<canvas id="myCanvas" width="400" height="400"></canvas>
	</body>
	<script type="text/javascript">
		var c = document.getElementById('myCanvas')
		var ctx = c.getContext('2d')
		
		
		ctx.beginPath()
		ctx.strokeStyle='black'
		ctx.translate(c.width/2,c.height/2)
		
		
		setInterval(()=>{
			ctx.clearRect(-c.width/2,-c.height/2,c.width,c.height)
			ctx.save()
			biaopan()
			run()
			ctx.restore()
		},1000)
		
		function biaopan(){
			ctx.beginPath()
			ctx.arc(0,0,150,0,2*Math.PI)
			ctx.stroke()
			for (let i = 1; i<13 ;i++) {
				ctx.textAlign = "center"
				ctx.textBaseline = "center"
				ctx.fillText(i,Math.sin(2*Math.PI/12*i)*105,Math.cos(2*Math.PI/12*i)*-105)
			}
			
			ctx.beginPath()
			ctx.lineWidth=1
			ctx.strokeStyle="green"
			for(let i = 1 ;i <= 60; i++){
				ctx.rotate(2*Math.PI/60)
				ctx.moveTo(0,-130)
				ctx.lineTo(0,-140)
				ctx.stroke()
			}
			
			ctx.beginPath()
			ctx.lineWidth=4
			ctx.strokeStyle="blue"
			for(let i = 1 ;i <= 12; i++){
				ctx.rotate(2*Math.PI/12)
				ctx.moveTo(0,-120)
				ctx.lineTo(0,-140)
				ctx.stroke()
			}
		}
		
		function run(){
			var d = new Date()
			var h =d.getHours()
			var m =d.getMinutes()
			var s =d.getSeconds() 
			
			ctx.beginPath()
			ctx.save()
			ctx.lineWidth=5
			ctx.strokeStyle="blue"
			ctx.rotate((2*Math.PI/12*h)+(2*Math.PI/60*m/12))
			ctx.moveTo(0,10)
			ctx.lineTo(0,-80)
			ctx.stroke()
			ctx.restore()
			
			ctx.beginPath()
			ctx.save()
			ctx.lineWidth=3
			ctx.strokeStyle="blue"
			ctx.rotate((2*Math.PI/60*m)+(2*Math.PI/60*s/60))
			ctx.moveTo(0,15)
			ctx.lineTo(0,-100)
			ctx.stroke()
			ctx.restore()
			
			ctx.beginPath()
			ctx.save()
			ctx.lineWidth=2
			ctx.strokeStyle="red"
			ctx.rotate(2*Math.PI/60*s)
			ctx.moveTo(0,15)
			ctx.lineTo(0,-100)
			ctx.stroke()
			ctx.restore()
		}
		
	</script>
	<style type="text/css">
		#myCanvas{
			border: 1px solid red;
		}
	</style>
</html>
